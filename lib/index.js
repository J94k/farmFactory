var farmFactory=function(){"use strict";e=n={exports:{}},e.exports=t;function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(n){return typeof n}:e.exports=t=function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t(n)}var e;var n,a=function(){return(a=Object.assign||function(n){for(var t,e=1,a=arguments.length;e<a;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}).apply(this,arguments)};function i(i,r,s,d){return new(s=s||Promise)(function(n,t){function e(n){try{o(d.next(n))}catch(n){t(n)}}function a(n){try{o(d.throw(n))}catch(n){t(n)}}function o(t){t.done?n(t.value):new s(function(n){n(t.value)}).then(e,a)}o((d=d.apply(i,r||[])).next())})}function r(e,a){var o,i,r,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},n={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function t(t){return function(n){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(r=2&t[0]?i.return:t[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,t[1])).done)return r;switch(i=0,r&&(t=[2&t[0],r.value]),t[0]){case 0:case 1:r=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(r=0<(r=s.trys).length&&r[r.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!r||t[1]>r[0]&&t[1]<r[3])){s.label=t[1];break}if(6===t[0]&&s.label<r[1]){s.label=r[1],r=t;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(t);break}r[2]&&s.ops.pop(),s.trys.pop();continue}t=a.call(e,s)}catch(n){t=[6,n],i=0}finally{o=r=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,n])}}}function s(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var a=Array(n),o=0,t=0;t<e;t++)for(var i=arguments[t],r=0,s=i.length;r<s;r++,o++)a[o]=i[r];return a}var o=(d.prototype.addHandler=function(n){var t=this;this.handlers.push(n.bind({unsubscribe:function(){t.removeHandler(n)}}))},d.prototype.removeHandler=function(n){n=this.handlers.indexOf(n);this.handlers.splice(n,1)},d.prototype.call=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.handlers.forEach(function(n){try{n.apply(void 0,t)}catch(n){console.error(n)}})},d);function d(n){this.name=n,this.handlers=[]}function u(){this.events={}}function l(n){h=a(a({},h),n),w.dispatch("state change",h)}function c(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return console.log.apply(console,s(["farmingPage: "+n],t))}function p(){return i(void 0,void 0,void 0,function(){var t,e,a,o,i;return r(this,function(n){switch(n.label){case 0:if(c("getData"),a=h.contracts,o=h.account,!a)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Promise.all([a.farm.methods.earned(o).call(),a.farm.methods.balanceOf(o).call(),a.farm.methods.rewardRate().call(),a.farm.methods.totalSupply().call(),a.staking.methods.allowance(o,window.farmAddress).call()])];case 2:return i=n.sent(),t=i[0],e=i[1],a=i[2],o=i[3],i=i[4],document.getElementById(x.farmingPage.totalSupply).innerText=String(o/1e18),document.getElementById(x.farmingPage.rate).innerText=a,document.getElementById(x.farmingPage.earnedTokens).innerText=String(t/1e18),document.getElementById(x.farmingPage.balance).innerText=String(e/1e18),W(0<Number(i)),[3,4];case 3:return i=n.sent(),console.error(i),k(i.message),[3,4];case 4:return[2]}})})}function m(t){return i(void 0,void 0,void 0,function(){return r(this,function(n){return[2,Promise.all(Object.keys(J).map(function(n){return a=n,o=t,i(void 0,void 0,void 0,function(){var t,e;return r(this,function(n){switch(n.label){case 0:return e=(t=J[a])[0],t=t[1],G[a]?[2,G[a]]:[4,new o.eth.Contract(t,e)];case 1:return e=n.sent(),[2,G[a]=e]}})});var a,o})).then(function(a){return Object.keys(J).reduce(function(n,t,e){return n[t]=a[e],n},{})})]})})}function y(n){var o=n.accounts;return i(void 0,void 0,void 0,function(){var t,e,a;return r(this,function(n){switch(n.label){case 0:return console.debug("common: init"),t=o[0],e=new window.Web3(window.ethereum),[4,m(e)];case 1:return a=n.sent(),l({web3:e,account:t,contracts:a}),[2]}})})}function f(){return i(void 0,void 0,void 0,function(){var t;return r(this,function(n){switch(n.label){case 0:if(!function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];console.log.apply(console,s(["connectModal: "+n],t))}("connectMetamask"),K)return[2];n.label=1;case 1:return n.trys.push([1,5,,6]),K=!0,document.getElementById(x.connectModal.connectButton).innerHTML='<div class="loader"><div></div><div></div><div></div></div>',[4,window.ethereum.request({method:"eth_requestAccounts"})];case 2:return t=n.sent(),localStorage.setItem("ff-account-unlocked","true"),[4,window.ethereum.enable()];case 3:return n.sent(),[4,y({accounts:t})];case 4:return n.sent(),h.pageContext.getData(),X(),[3,6];case 5:return t=n.sent(),K=!1,document.getElementById(x.connectModal.connectButton).innerHTML="Connect",console.error(t),k(t.message),[3,6];case 6:return[2]}})})}function v(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return console.log.apply(console,s(["index: "+n],t))}function b(){return i(void 0,void 0,void 0,function(){var t;return r(this,function(n){switch(n.label){case 0:if(!(Number(window.ethereum.networkVersion)===window.networkId))return q(),[2];if(!("true"===localStorage.getItem($)))return[3,8];v("Account is unlocked"),n.label=1;case 1:return n.trys.push([1,6,,7]),[4,window.ethereum.request({method:"eth_accounts"})];case 2:return(t=n.sent())[0]?[4,y({accounts:t})]:[3,4];case 3:return n.sent(),h.pageContext.getData(),[3,5];case 4:v("Account not found"),Z(),n.label=5;case 5:return[3,7];case 6:return t=n.sent(),console.error(t),localStorage.removeItem($),Z(),[3,7];case 7:return[3,9];case 8:v("Account is locked"),Z(),n.label=9;case 9:return[2]}})})}var g,w=new(u.prototype.getEvent=function(n){var t=this.events[n];return t||(t=new o(n),this.events[n]=t),t},u.prototype.subscribe=function(n,t){n=this.getEvent(n);return n.addHandler(t),{event:n,handler:t}},u.prototype.unsubscribe=function(n,t){this.getEvent(n).removeHandler(t)},u.prototype.dispatch=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];n=this.getEvent(n);n&&n.call.apply(n,t)},u.prototype.once=function(n,e){var a=this.getEvent(n),o=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];e.apply(void 0,n)&&a.removeHandler(o)};return a.addHandler(o),{event:a,handlerWrapper:o}},u),h={web3:null,account:null,contracts:null,pageContext:null},x={mainRoot:"farmfactory-main-root",farmingRoot:"farmfactory-farming-root",modalsRoot:"farmfactory-modals-root",infoModalRoot:"farmfactory-info-modal-root",mainPage:{balance:"farmfactory-main-page-balance",rewardPerToken:"farmfactory-main-page-reward-per-token",rewardsTimeLeft:"farmfactory-main-page-rewards-time-left"},farmingPage:{totalSupply:"farmfactory-farming-page-farmingTotalSupply",rate:"farmfactory-farming-page-rate",earnedTokens:"farmfactory-farming-page-earned-tokens",balance:"farmfactory-farming-page-balance",harvestButton:"farmfactory-farming-page-harvest-button",lpsButtons:"farmfactory-farming-page-lps-buttons",approveButton:"farmfactory-farming-page-approve-button",depositButton:"farmfactory-farming-page-deposit-button",withdrawButton:"farmfactory-farming-page-withdraw-button"},infoModal:{closeButton:"farmfactory-info-modal-close-button",cancelButton:"farmfactory-info-modal-cancel-button"},wrongNetworkModal:{closeButton:"farmfactory-wrong-network-modal-close-button"},connectModal:{closeButton:"farmfactory-connect-modal-close-button",connectButton:"farmfactory-connect-modal-connect-button",cancelButton:"farmfactory-connect-modal-cancel-button"},depositModal:{closeButton:"farmfactory-deposit-modal-close-button",depositButton:"farmfactory-deposit-modal-deposit-button",cancelButton:"farmfactory-deposit-modal-cancel-button",availableToDeposit:"farmfactory-deposit-modal-available-to-deposit",depositAmount:"farmfactory-deposit-modal-deposit-amount"},withdrawModal:{closeButton:"farmfactory-withdraw-modal-close-button",withdrawButton:"farmfactory-withdraw-modal-withdraw-button",cancelButton:"farmfactory-withdraw-modal-cancel-button",availableToWithdraw:"farmfactory-withdraw-modal-available-to-withdraw",withdrawAmount:"farmfactory-deposit-modal-withdraw-amount"},harvestModal:{closeButton:"farmfactory-harvest-modal-close-button",connectButton:"farmfactory-harvest-modal-connect-button",cancelButton:"farmfactory-harvest-modal-cancel-button"}},M='\n  <div>\n    <div class="widget row">\n      <div class="balanceCard">\n        <div class="title">Your balance</div>\n        <div class="value" id="'+x.mainPage.balance+'">&mdash;</div>\n        <div class="total">\n          <div class="title">Reward Per Token</div>\n          <div class="value" id="'+x.mainPage.rewardPerToken+'">&mdash;</div>\n        </div>\n      </div>\n      <div class="balanceCard rewardsTimeLeft">\n        <div class="title">Rewards end in</div>\n        <div class="value" id="'+x.mainPage.rewardsTimeLeft+'">--:--:--:--</div>\n      </div>\n    </div>\n  </div>\n',T={injectHtml:function(){return i(void 0,void 0,void 0,function(){return r(this,function(n){return document.getElementById(x.mainRoot).innerHTML=M,[2]})})},getData:function(){return i(void 0,void 0,void 0,function(){var t,e,a,o,i;return r(this,function(n){switch(n.label){case 0:return function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];console.log.apply(console,s(["mainPage: "+n],t))}("getData"),t=h.web3,a=h.contracts,e=h.account,a?[4,Promise.all([a.rewards.methods.balanceOf(e).call(),a.farm.methods.rewardPerToken().call(),a.farm.methods.periodFinish().call()])]:[2];case 1:return o=n.sent(),e=o[0],a=o[1],o=o[2],console.log("DATA",{balance:e,rewardPerToken:a,farmingFinishDate:o}),document.getElementById(x.mainPage.balance).innerText=t.utils.fromWei(e),document.getElementById(x.mainPage.rewardPerToken).innerText=a,0<(i=Number(o.toString()))-Date.now()/1e3?(g&&clearInterval(g),g=setInterval(function(){var n=Math.floor((1e3*i-Date.now())/1e3),t=Math.floor(n/86400);n-=86400*t;var e=Math.floor(n/3600)%24;n-=3600*e;var a=Math.floor(n/60)%60,n=(n-=60*a)%60,n=(t<10?"0"+t:t)+":"+(e<10?"0"+e:e)+":"+(a<10?"0"+a:a)+":"+(n<10?"0"+n:n);document.getElementById(x.mainPage.rewardsTimeLeft).innerText=n},1e3)):document.getElementById(x.mainPage.rewardsTimeLeft).innerText="00:00:00:00",[2]}})})}},B=function(){document.getElementById(x.infoModalRoot).innerHTML=""},k=function(n){document.getElementById(x.infoModalRoot).innerHTML=(n=n,'\n  <div class="overlay">\n    <div class="modal">\n      <button class="closeButton" id="'+x.infoModal.closeButton+'">\n        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none" viewBox="0 0 32 32">\n          <path stroke="currentColor" stroke-width="2" d="M9 9l7 6.99L23 9l-6.99 7L23 23l-7-6.99L9 23l6.99-7L9 9z" opacity=".9"/>\n        </svg>\n      </button>\n      <div class="inner">\n        <div>'+n+'</div>\n      </div>\n      <div class="footer">\n        <button class="button gray" id="'+x.infoModal.cancelButton+'">Close</button>\n      </div>\n    </div>\n  </div>\n'),document.getElementById(x.infoModal.closeButton).addEventListener("click",function(){B()}),document.getElementById(x.infoModal.cancelButton).addEventListener("click",function(){B()})},E=!1,L='<div class="loader"><div></div><div></div><div></div></div>',I='\n  <div class="overlay">\n    <div class="modal depositModal">\n      <button class="closeButton" id="'+x.withdrawModal.closeButton+'">\n        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none" viewBox="0 0 32 32">\n          <path stroke="currentColor" stroke-width="2" d="M9 9l7 6.99L23 9l-6.99 7L23 23l-7-6.99L9 23l6.99-7L9 9z" opacity=".9"/>\n        </svg>\n      </button>\n      <div class="inner">\n        <div class="title">Withdraw ROOBEE-ETH LPs Tokens</div>\n        <div class="row center">\n          <div class="balanceTitle">Available to Withdraw:</div>\n          <div class="balanceValue" id="'+x.withdrawModal.availableToWithdraw+'">\n            '+L+'\n          </div>\n        </div>\n        <input id="'+x.withdrawModal.withdrawAmount+'" type="number" />\n      </div>\n      <div class="footer">\n        <button class="button yellow" id="'+x.withdrawModal.withdrawButton+'">Withdraw</button>\n        <button class="button gray" id="'+x.withdrawModal.cancelButton+'">Cancel</button>\n      </div>\n    </div>\n  </div>\n',P=function(){document.getElementById(x.modalsRoot).innerHTML=""},C=function(){return i(void 0,void 0,void 0,function(){var t,e;return r(this,function(n){switch(n.label){case 0:return t=h.contracts,e=h.account,document.getElementById(x.modalsRoot).innerHTML=I,[4,t.farm.methods.balanceOf(e).call()];case 1:return e=n.sent(),document.getElementById(x.withdrawModal.availableToWithdraw).innerText=String(Number(e)/1e18),document.getElementById(x.withdrawModal.withdrawButton).addEventListener("click",function(){i(void 0,void 0,void 0,function(){var t,e,a,o;return r(this,function(n){switch(n.label){case 0:if(t=h.web3,e=h.contracts,o=h.account,E)return[2];if(!e.farm)return k("Farm contract is not connected"),[2];if(a=document.getElementById(x.withdrawModal.withdrawAmount),!(0<(a=Number(a.value))))return[3,5];n.label=1;case 1:return n.trys.push([1,3,4,5]),E=!0,document.getElementById(x.withdrawModal.withdrawButton).innerHTML=L,a=t.utils.toWei(String(a)),[4,e.farm.methods.withdraw(a).send({from:o})];case 2:return n.sent().status&&k("Transaction confirmed!"),P(),w.dispatch("withdraw success"),[3,5];case 3:return o=n.sent(),console.error(o),"INVALID_ARGUMENT"==o.code?k("Placeholder cannot be empty"):k(o.message),[3,5];case 4:return E=!1,document.getElementById(x.withdrawModal.withdrawButton).innerHTML="Withdraw",[7];case 5:return[2]}})})}),document.getElementById(x.withdrawModal.cancelButton).addEventListener("click",function(){P()}),document.getElementById(x.withdrawModal.closeButton).addEventListener("click",function(){P()}),[2]}})})},R=!1,A='<div class="loader"><div></div><div></div><div></div></div>',H='\n  <div class="overlay">\n    <div class="modal depositModal">\n      <button class="closeButton" id="'+x.depositModal.closeButton+'">\n        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none" viewBox="0 0 32 32">\n          <path stroke="currentColor" stroke-width="2" d="M9 9l7 6.99L23 9l-6.99 7L23 23l-7-6.99L9 23l6.99-7L9 9z" opacity=".9"/>\n        </svg>\n      </button>\n      <div class="inner">\n        <div class="title">Deposit ROOBEE-ETH LPs Tokens</div>\n        <div class="row center">\n          <div class="balanceTitle">Available to Deposit:</div>\n          <div class="balanceValue" id="'+x.depositModal.availableToDeposit+'">\n            '+A+'\n          </div>\n        </div>\n        <input id="'+x.depositModal.depositAmount+'" type="number" />\n      </div>\n      <div class="footer">\n        <button class="button yellow" id="'+x.depositModal.depositButton+'">Deposit</button>\n        <button class="button gray" id="'+x.depositModal.cancelButton+'">Cancel</button>\n      </div>\n    </div>\n  </div>\n',S=function(){document.getElementById(x.modalsRoot).innerHTML=""},D=function(){return i(void 0,void 0,void 0,function(){var t,e;return r(this,function(n){switch(n.label){case 0:return t=h.contracts,e=h.account,document.getElementById(x.modalsRoot).innerHTML=H,[4,t.staking.methods.balanceOf(e).call()];case 1:return e=n.sent(),document.getElementById(x.depositModal.availableToDeposit).innerText=String(Number(e)/1e18),document.getElementById(x.depositModal.depositButton).addEventListener("click",function(){i(void 0,void 0,void 0,function(){var t,e,a,o;return r(this,function(n){switch(n.label){case 0:if(t=h.web3,e=h.contracts,o=h.account,R)return[2];if(!e.farm)return k("Farm contract is not connected"),[2];if(a=document.getElementById(x.depositModal.depositAmount),!(0<(a=Number(a.value))))return[3,5];n.label=1;case 1:return n.trys.push([1,3,4,5]),R=!0,document.getElementById(x.depositModal.depositButton).innerHTML=A,a=t.utils.toWei(String(a)),[4,e.farm.methods.stake(a).send({from:o})];case 2:return n.sent().status&&k("Transaction confirmed!"),S(),w.dispatch("deposit success"),[3,5];case 3:return o=n.sent(),console.error(o),"INVALID_ARGUMENT"==o.code?k("Placeholder cannot be empty"):k(o.message),[3,5];case 4:return R=!1,document.getElementById(x.depositModal.depositButton).innerHTML="Deposit",[7];case 5:return[2]}})})}),document.getElementById(x.depositModal.cancelButton).addEventListener("click",function(){S()}),document.getElementById(x.depositModal.closeButton).addEventListener("click",function(){S()}),[2]}})})},z=!1,O='<div class="loader"><div></div><div></div><div></div></div>',j='\n  <div>\n    <div class="headline">\n      <div>\n        <div class="title">Total LPs Staked</div>\n        <div class="value" id="'+x.farmingPage.totalSupply+'"></div>\n      </div>\n      <div>\n        <div class="title">Daily Pool Rewards</div>\n        <div class="value" id="'+x.farmingPage.rate+'"></div>\n      </div>\n    </div>\n    <div class="widget row">\n      <div class="farmingCard">\n        <div class="amount" id="'+x.farmingPage.earnedTokens+'">&mdash;</div>\n        <div class="title">Earned</div>\n        <div class="buttonContainer">\n          <button class="button blue" id="'+x.farmingPage.harvestButton+'">Harvest</button>\n        </div>\n      </div>\n      <div class="farmingCard">\n        <div class="amount" id="'+x.farmingPage.balance+'">&mdash;</div>\n        <div class="title">LPs Token Staked</div>\n        <div class="buttonContainer" id="'+x.farmingPage.lpsButtons+'"></div>\n      </div>\n    </div>\n  </div>\n',F='\n  <button class="button yellow" id="'+x.farmingPage.approveButton+'">Approve LPS</button>\n',N='\n  <button class="button yellow" id="'+x.farmingPage.depositButton+'">Deposit</button><br />\n  <button class="button gray" id="'+x.farmingPage.withdrawButton+'">Withdraw</button>\n',W=function(n){var t=document.getElementById(x.farmingPage.lpsButtons);n?(t.innerHTML=N,document.getElementById(x.farmingPage.depositButton).addEventListener("click",function(){D()}),document.getElementById(x.farmingPage.withdrawButton).addEventListener("click",function(){C()})):(t.innerHTML=F,document.getElementById(x.farmingPage.approveButton).addEventListener("click",function(){i(void 0,void 0,void 0,function(){var t,e,a;return r(this,function(n){switch(n.label){case 0:if(c("init approve"),t=h.contracts,a=h.account,z)return[2];if(!a)return[2];if(!t.staking)return k("Staking contract is not connected"),[2];n.label=1;case 1:return n.trys.push([1,3,4,5]),z=!0,document.getElementById(x.farmingPage.approveButton).innerHTML=O,e=window.farmAddress,[4,t.staking.methods.approve(e,0xfffffffffffff).send({from:a})];case 2:return n.sent().status&&k("Transaction confirmed!"),p(),[3,5];case 3:return a=n.sent(),console.error(a),k(a.message),[3,5];case 4:return z=!1,document.getElementById(x.farmingPage.approveButton).innerHTML="Approve",[7];case 5:return[2]}})})}))},_={injectHtml:function(){document.getElementById(x.farmingRoot).innerHTML=j,document.getElementById(x.farmingPage.harvestButton).addEventListener("click",function(){i(void 0,void 0,void 0,function(){var t,e;return r(this,function(n){switch(n.label){case 0:if(c("init harvest"),t=h.contracts,e=h.account,z)return[2];if(!e)return[2];if(!t.farm)return k("Farm contract is not connected"),[2];n.label=1;case 1:return n.trys.push([1,3,4,5]),z=!0,document.getElementById(x.farmingPage.harvestButton).innerHTML=O,[4,t.farm.methods.getReward().send({from:e})];case 2:return n.sent().status&&k("Transaction confirmed!"),p(),[3,5];case 3:return e=n.sent(),console.error(e),k(e.message),[3,5];case 4:return z=!1,document.getElementById(x.farmingPage.harvestButton).innerHTML="Harvest",[7];case 5:return[2]}})})}),w.subscribe("deposit success",function(){p()}),w.subscribe("withdraw success",function(){p()})},getData:p},V='\n  <div class="overlay">\n    <div class="modal">\n      <button class="closeButton" id="'+x.wrongNetworkModal.closeButton+'">\n        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none" viewBox="0 0 32 32">\n          <path stroke="currentColor" stroke-width="2" d="M9 9l7 6.99L23 9l-6.99 7L23 23l-7-6.99L9 23l6.99-7L9 9z" opacity=".9"/>\n        </svg>\n      </button>\n      <div class="inner">\n        Wrong network, connect to MAINNET\n      </div>\n    </div>\n  </div>\n',U=function(){document.getElementById(x.modalsRoot).innerHTML=""},q=function(){document.getElementById(x.modalsRoot).innerHTML=V,document.getElementById(x.wrongNetworkModal.closeButton).addEventListener("click",function(){U()})},G={},Y=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"string"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"mint",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"value",type:"uint256"}],name:"burn",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"from",type:"address"}],name:"getAvailableBalance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"tokensMinted",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"value",type:"uint256"}],name:"burnFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"account",type:"address"}],name:"addMinter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"renounceMinter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"account",type:"address"}],name:"isMinter",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"freezeFor",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"freezeOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"},{name:"_unfreezeTimestamp",type:"uint256"},{name:"_subsequentUnlock",type:"bool"}],name:"mintWithFreeze",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"maxSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"}],name:"MinterAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"}],J={farm:[window.farmAddress,[{inputs:[{internalType:"address",name:"_rewardsToken",type:"address"},{internalType:"address",name:"_stakingToken",type:"address"},{internalType:"uint256",name:"_rewardsDuration",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Recovered",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"RewardAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"RewardPaid",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newDuration",type:"uint256"}],name:"RewardsDurationUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Staked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"earned",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"exit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getReward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getRewardForDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"lastTimeRewardApplicable",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"lastUpdateTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"reward",type:"uint256"}],name:"notifyRewardAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"periodFinish",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"tokenAmount",type:"uint256"}],name:"recoverERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardPerToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardPerTokenStored",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"rewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardsDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardsToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_rewardsDuration",type:"uint256"}],name:"setRewardsDuration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stakingToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userRewardPerTokenPaid",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}]],rewards:[window.rewardsAddress,Y],staking:[window.stakingAddress,Y]},K=!1,Q='\n  <div class="overlay">\n    <div class="modal">\n      <button class="closeButton" id="'+x.connectModal.closeButton+'">\n        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none" viewBox="0 0 32 32">\n          <path stroke="currentColor" stroke-width="2" d="M9 9l7 6.99L23 9l-6.99 7L23 23l-7-6.99L9 23l6.99-7L9 9z" opacity=".9"/>\n        </svg>\n      </button>\n      <div class="inner">\n        <img class="svgLogo" src="https://metamask.io/images/mm-logo.svg" alt="Metamask" />\n      </div>\n      <div class="footer">\n        <button class="button yellow" id="'+x.connectModal.connectButton+'">Connect</button>\n        <button class="button gray" id="'+x.connectModal.cancelButton+'">Cancel</button>\n      </div>\n    </div>\n  </div>\n',X=function(){document.getElementById(x.modalsRoot).innerHTML=""},Z=function(){document.getElementById(x.modalsRoot).innerHTML=Q,document.getElementById(x.connectModal.connectButton).addEventListener("click",function(){f()}),document.getElementById(x.connectModal.cancelButton).addEventListener("click",function(){X()}),document.getElementById(x.connectModal.closeButton).addEventListener("click",function(){X()})},$="ff-account-unlocked";return{init:function(){return i(void 0,void 0,void 0,function(){var o;return r(this,function(n){switch(n.label){case 0:return[4,(a="https://cdnjs.cloudflare.com/ajax/libs/web3/1.3.1/web3.min.js",new Promise(function(n,t){var e=document.createElement("script");e.onload=n,e.onerror=t,e.src=a,document.head.appendChild(e)}))];case 1:return n.sent(),t=document.head||document.getElementsByTagName("head")[0],(e=document.createElement("style")).type="text/css",e.appendChild(document.createTextNode("\n.row {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.row.center {\n  justify-content: center;\n}\n\n.widget {\n  align-items: stretch;\n  justify-content: center;\n}\n\n.widget * {\n  box-sizing: border-box;\n}\n\n.widget .button {\n  margin-left: 20px;\n}\n\n.widget .button:first-child {\n  margin-left: 0;\n}\n\n/* Headline */\n\n.headline {\n  margin-bottom: 32px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n}\n\n.headline > div {\n  margin: 0 40px;\n}\n\n.headline .title {\n  font-size: 16px;\n  line-height: 150%;\n  color: #000;\n  margin-bottom: 10px;\n  padding-bottom: 0;\n  font-weight: 400;\n}\n\n.headline .value {\n  font-size: 18px;\n  line-height: 155%;\n  font-weight: 600;\n  color: #000;\n}\n\n/* Balance */\n\n.balanceCard {\n  padding: 30px;\n  border: 2px solid #a8f0f6;\n  border-radius: 10px;\n  margin-right: 40px;\n  background: #fff;\n  min-width: 320px;\n  min-height: 185px;\n}\n\n.balanceCard > .title {\n  font-size: 18px;\n  color: #5c5c5c;\n  line-height: 160%;\n  margin-bottom: 20px;\n  text-align: center;\n}\n\n.balanceCard > .value {\n  font-weight: 800;\n  font-size: 28px;\n  line-height: 160%;\n  color: #000;\n  text-align: center;\n}\n\n.rewardsTimeLeft > .value {\n  font-size: 40px;\n}\n\n.total {\n  border-top: 2px solid #a8f0f6;\n  display: flex;\n  padding: 10px 20px 10px 20px;\n  justify-content: space-between;\n  margin: 18px -30px -30px -30px;\n}\n\n.total > .title {\n  font-size: 14px;\n  color: #5c5c5c;\n  margin-right: 10px;\n}\n\n.total > .value {\n  font-weight: 700;\n  font-size: 14px;\n  color: #000;\n}\n\n/* Farming */\n\n.farmingCard {\n  padding: 30px;\n  border: 2px solid #a8f0f6;\n  border-radius: 10px;\n  margin-right: 40px;\n  background: #fff;\n  min-width: 320px;\n  min-height: 185px;\n}\n\n.farmingCard .amount {\n  margin-bottom: 20px;\n  font-weight: 800;\n  font-size: 28px;\n  line-height: 160%;\n  color: #000;\n  text-align: center;\n}\n\n.farmingCard .title {\n  font-size: 18px;\n  color: #5c5c5c;\n  line-height: 160%;\n  margin-bottom: 30px;\n  text-align: center;\n}\n\n.farmingCard .buttonContainer {\n  display: flex;\n  justify-content: center;\n}\n\n/* Button */\n\n.button {\n  cursor: pointer;\n  outline: none;\n  border: none;\n  border-radius: 4px;\n  height: 36px;\n  padding: 0 24px;\n  font-weight: 800;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-transform: uppercase;\n  transition: .2s;\n}\n\n.button.blue {\n  box-shadow: 2px 2px 5px rgba(80,224,237,.5), inset -1px -1px 2px #08ccde;\n  background: #50e0ed;\n  color: #fff;\n}\n\n.button.yellow {\n  box-shadow: 2px 2px 5px rgba(255,245,0,.45), inset -1px -1px 2px rgba(230,220,0,.6);\n  background: #fff500;\n  color: #000;\n}\n\n.button.gray {\n  box-shadow: 2px 2px 5px rgba(0,0,0,.05), inset -1px -1px 2px rgba(0,0,0,.1);\n  background: #f7f7f7;\n  color: #000;\n}\n\n/* Connect Modal */\n\n.overlay {\n  background: rgba(0,0,0, 0.6);\n  position: fixed;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 2;\n}\n\n.modal {\n  padding: 50px 40px 40px;\n  min-width: 360px;\n  display: inline-block;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%,-50%);\n  border-radius: 8px;\n  z-index: 5;\n  background: #fff;\n}\n\n.modal .closeButton {\n  cursor: pointer;\n  vertical-align: top;\n  overflow: hidden;\n  background: none;\n  border: 0;\n  padding: 0;\n  margin: 0;\n  position: absolute;\n  top: 16px;\n  right: 16px;\n  width: 24px;\n  height: 24px;\n}\n\n.modal .closeButton svg {\n  width: 100%;\n  height: 100%;\n}\n\n.modal .title {\n  text-align: center;\n  font-size: 18px;\n  line-height: 155%;\n  padding-bottom: 24px;\n  color: #000;\n}\n\n.modal .inner {\n  text-align: center;\n}\n\n.modal .inner .svgLogo {\n  width: 240px;\n}\n\n.modal input {\n  height: 36px;\n  padding: 0 16px;\n  font-size: 14px;\n  line-height: 14px;\n  background: #FFFFFF;\n  border: 1px solid #C2C2C2;\n  box-sizing: border-box;\n  border-radius: 4px;\n}\n\n.modal .footer {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 40px;\n}\n\n.modal .footer .button {\n  margin: 0 30px;\n}\n\n/* Deposit Modal */\n\n.depositModal .balanceTitle {\n  font-size: 14px;\n  line-height: 155%;\n  color: #858585;\n}\n\n.depositModal .balanceValue {\n  margin-left: 10px;\n  font-size: 14px;\n  line-height: 155%;\n  font-weight: 600;\n  color: #000;\n}\n\n.depositModal input {\n  margin-top: 32px;\n}\n\n/* Loader */\n\n.loader {\n  height: 16px;\n  display: flex;\n  align-items: stretch;\n}\n\n.loader div {\n  width: 4px;\n  height: 100%;\n  margin-left: 4px;\n  background: #000;\n  animation: loader 1.2s cubic-bezier(0, 0.5, 0.5, 1) infinite;\n}\n\n.loader div:first-child {\n  margin-left: 0;\n}\n\n.loader div:nth-child(1) {\n  animation-delay: -0.24s;\n}\n\n.loader div:nth-child(2) {\n  animation-delay: -0.12s;\n}\n\n.loader div:nth-child(3) {\n  animation-delay: 0s;\n}\n\n@keyframes loader {\n  0% {\n    margin-top: -6px;\n    height: 28px;\n  }\n  50%, 100% {\n    margin-top: 0;\n    height: 16px;\n  }\n}\n")),t.appendChild(e),t=document.createElement("div"),e=document.createElement("div"),t.setAttribute("id",x.modalsRoot),e.setAttribute("id",x.infoModalRoot),document.body.appendChild(t),document.body.appendChild(e),document.getElementById(x.mainRoot)?((o=T).injectHtml(),l({pageContext:o})):document.getElementById(x.farmingRoot)?((o=_).injectHtml(),l({pageContext:o})):k("Template variables not found! Please use {farmfactory-main-root} or {farmfactory-farming-root}."),[4,i(void 0,void 0,void 0,function(){return r(this,function(n){return v("initialConnect"),window.ethereum?(v("MetaMask is installed"),window.ethereum.on("networkChanged",function(){b()}),b()):k("Please install MetaMask"),[2]})})];case 2:return n.sent(),[2]}var t,e,a})})}}}();
