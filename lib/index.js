var farmFactory=function(){"use strict";n=t={exports:{}},n.exports=e;function e(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?n.exports=e=function(t){return typeof t}:n.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}var n;var t,a=function(){return(a=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function d(i,r,s,u){return new(s=s||Promise)(function(t,e){function n(t){try{o(u.next(t))}catch(t){e(t)}}function a(t){try{o(u.throw(t))}catch(t){e(t)}}function o(e){e.done?t(e.value):new s(function(t){t(e.value)}).then(n,a)}o((u=u.apply(i,r||[])).next())})}function c(n,a){var o,i,r,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(r=2&e[0]?i.return:e[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,e[1])).done)return r;switch(i=0,r&&(e=[2&e[0],r.value]),e[0]){case 0:case 1:r=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,i=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(r=0<(r=s.trys).length&&r[r.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!r||e[1]>r[0]&&e[1]<r[3])){s.label=e[1];break}if(6===e[0]&&s.label<r[1]){s.label=r[1],r=e;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(e);break}r[2]&&s.ops.pop(),s.trys.pop();continue}e=a.call(n,s)}catch(t){e=[6,t],i=0}finally{o=r=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}function o(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var a=Array(t),o=0,e=0;e<n;e++)for(var i=arguments[e],r=0,s=i.length;r<s;r++,o++)a[o]=i[r];return a}var i=(r.prototype.addHandler=function(t){var e=this;this.handlers.push(t.bind({unsubscribe:function(){e.removeHandler(t)}}))},r.prototype.removeHandler=function(t){t=this.handlers.indexOf(t);this.handlers.splice(t,1)},r.prototype.call=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.handlers.forEach(function(t){try{t.apply(void 0,e)}catch(t){console.error(t)}})},r);function r(t){this.name=t,this.handlers=[]}function s(){this.events={}}function l(t){B=a(a({},B),t),T.dispatch("state change",B)}function m(){return d(void 0,void 0,void 0,function(){var e,n,a,o;return c(this,function(t){switch(t.label){case 0:if(e=B.web3,n=B.contracts,o=B.account,I)return[2];if(!n.farm)return L("Farm contract is not connected"),[2];if(a=document.getElementById(k.withdrawModal.withdrawAmount),!(0<(a=Number(a.value))))return[3,5];t.label=1;case 1:return t.trys.push([1,3,4,5]),I=!0,document.getElementById(k.withdrawModal.withdrawButton).innerHTML=x,a=e.utils.toWei(String(a)),[4,n.farm.methods.withdraw(a).send({from:o})];case 2:return t.sent().status&&L("Transaction confirmed!"),P(),T.dispatch("withdraw success"),[3,5];case 3:return o=t.sent(),console.error(o),"INVALID_ARGUMENT"==o.code?L("Placeholder cannot be empty"):L(o.message),[3,5];case 4:return I=!1,document.getElementById(k.withdrawModal.withdrawButton).innerHTML="Withdraw",[7];case 5:return[2]}})})}function p(){return d(void 0,void 0,void 0,function(){var e,n,a,o;return c(this,function(t){switch(t.label){case 0:if(e=B.web3,n=B.contracts,o=B.account,H)return[2];if(!n.farm)return L("Farm contract is not connected"),[2];if(a=document.getElementById(k.depositModal.depositAmount),!(0<(a=Number(a.value))))return[3,5];t.label=1;case 1:return t.trys.push([1,3,4,5]),H=!0,document.getElementById(k.depositModal.depositButton).innerHTML=S,a=e.utils.toWei(String(a)),[4,n.farm.methods.stake(a).send({from:o})];case 2:return t.sent().status&&L("Transaction confirmed!"),N(),T.dispatch("deposit success"),[3,5];case 3:return o=t.sent(),console.error(o),"INVALID_ARGUMENT"==o.code?L("Placeholder cannot be empty"):L(o.message),[3,5];case 4:return H=!1,document.getElementById(k.depositModal.depositButton).innerHTML="Deposit",[7];case 5:return[2]}})})}function u(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return console.log.apply(console,o(["farmingPage: "+t],e))}function y(){return d(void 0,void 0,void 0,function(){var e,n,a,o,i;return c(this,function(t){switch(t.label){case 0:if(u("getData"),a=B.opts,e=B.contracts,o=B.account,n=B.stakingTokenName,!e)return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Promise.all([e.farm.methods.earned(o).call(),e.farm.methods.balanceOf(o).call(),e.staking.methods.allowance(o,a.farmAddress).call()])];case 2:return o=t.sent(),a=o[0],i=o[1],o=o[2],j(0<Number(o)),document.getElementById(k.farmingPage.earnedTokens).innerText=String(a/1e18),document.getElementById(k.farmingPage.balanceTitle).innerText=n+"s Token Staked",document.getElementById(k.farmingPage.balance).innerText=String(i/1e18),0<a?document.getElementById(k.farmingPage.harvestButton).classList.remove("disabled"):document.getElementById(k.farmingPage.harvestButton).classList.add("disabled"),0<i?document.getElementById(k.farmingPage.withdrawButton).classList.remove("disabled"):document.getElementById(k.farmingPage.withdrawButton).classList.add("disabled"),[3,4];case 3:return i=t.sent(),console.error(i),L(i.message),[3,4];case 4:return[2]}})})}function f(n){return d(void 0,void 0,void 0,function(){var e;return c(this,function(t){return e=B.opts,h={farm:[e.farmAddress,K],rewards:[e.rewardsAddress,Q],staking:[e.stakingAddress,X]},[2,Promise.all(Object.keys(h).map(function(t){return a=t,o=n,d(void 0,void 0,void 0,function(){var e,n;return c(this,function(t){switch(t.label){case 0:return e=h[a],n=e[0],e=e[1],J[a]?[2,J[a]]:[4,new o.eth.Contract(e,n)];case 1:return n=t.sent(),[2,J[a]=n]}})});var a,o})).then(function(a){return Object.keys(h).reduce(function(t,e,n){return t[e]=a[n],t},{})})]})})}function v(t){var r=t.accounts;return d(void 0,void 0,void 0,function(){var e,n,a,o,i;return c(this,function(t){switch(t.label){case 0:return console.debug("common: init"),e=r[0],n=new window.Web3(window.ethereum),[4,f(n)];case 1:return[4,(a=t.sent()).staking.methods.name().call()];case 2:return o=t.sent(),[4,a.rewards.methods.name().call()];case 3:return i=t.sent(),l({web3:n,account:e,contracts:a,stakingTokenName:o,rewardsTokenName:i}),T.dispatch("data initialized"),[2]}})})}function b(){return d(void 0,void 0,void 0,function(){var e;return c(this,function(t){switch(t.label){case 0:if(!function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];console.log.apply(console,o(["connectModal: "+t],e))}("connectMetamask"),Y)return[2];t.label=1;case 1:return t.trys.push([1,5,,6]),Y=!0,document.getElementById(k.connectModal.connectButton).innerHTML='<div class="farmfactory-loader"><div></div><div></div><div></div></div>',[4,window.ethereum.request({method:"eth_requestAccounts"})];case 2:return e=t.sent(),localStorage.setItem("ff-account-unlocked","true"),[4,window.ethereum.enable()];case 3:return t.sent(),[4,v({accounts:e})];case 4:return t.sent(),T.dispatch("update page data"),$(),[3,6];case 5:return e=t.sent(),Y=!1,document.getElementById(k.connectModal.connectButton).innerHTML="Connect",console.error(e),L(e.message),[3,6];case 6:return[2]}})})}function w(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return console.log.apply(console,o(["index: "+t],e))}function g(){return d(void 0,void 0,void 0,function(){var e,n;return c(this,function(t){switch(t.label){case 0:if(e=B.opts,!(Number(window.ethereum.networkVersion)===e.networkId))return G(),[2];if(!("true"===localStorage.getItem(nt)))return[3,8];w("Account is unlocked"),t.label=1;case 1:return t.trys.push([1,6,,7]),[4,window.ethereum.request({method:"eth_accounts"})];case 2:return(n=t.sent())[0]?[4,v({accounts:n})]:[3,4];case 3:return t.sent(),T.dispatch("update page data"),[3,5];case 4:w("Account not found"),tt(),t.label=5;case 5:return[3,7];case 6:return n=t.sent(),console.error(n),localStorage.removeItem(nt),tt(),[3,7];case 7:return[3,9];case 8:w("Account is locked"),tt(),t.label=9;case 9:return[2]}})})}var h,M,T=new(s.prototype.getEvent=function(t){var e=this.events[t];return e||(e=new i(t),this.events[t]=e),e},s.prototype.subscribe=function(t,e){t=this.getEvent(t);return t.addHandler(e),{event:t,handler:e}},s.prototype.unsubscribe=function(t,e){this.getEvent(t).removeHandler(e)},s.prototype.dispatch=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t=this.getEvent(t);t&&t.call.apply(t,e)},s.prototype.once=function(t,n){var a=this.getEvent(t),o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n.apply(void 0,t)&&a.removeHandler(o)};return a.addHandler(o),{event:a,handlerWrapper:o}},s),B={opts:null,web3:null,account:null,contracts:null,stakingTokenName:"",rewardsTokenName:""},k={timerRoot:"farmfactory-timer-root",mainRoot:"farmfactory-main-root",farmingRoot:"farmfactory-farming-root",modalsRoot:"farmfactory-modals-root",infoModalRoot:"farmfactory-info-modal-root",mainPage:{balance:"farmfactory-main-page-balance",rewardPerToken:"farmfactory-main-page-reward-per-token",rewardsTimeLeft:"farmfactory-main-page-rewards-time-left"},farmingPage:{totalSupply:"farmfactory-farming-page-farmingTotalSupply",rate:"farmfactory-farming-page-rate",earnedTokens:"farmfactory-farming-page-earned-tokens",balanceTitle:"farmfactory-farming-page-balance-title",balance:"farmfactory-farming-page-balance",harvestButton:"farmfactory-farming-page-harvest-button",lpsButtons:"farmfactory-farming-page-lps-buttons",approveButton:"farmfactory-farming-page-approve-button",depositButton:"farmfactory-farming-page-deposit-button",withdrawButton:"farmfactory-farming-page-withdraw-button"},infoModal:{closeButton:"farmfactory-info-modal-close-button",cancelButton:"farmfactory-info-modal-cancel-button"},wrongNetworkModal:{closeButton:"farmfactory-wrong-network-modal-close-button"},connectModal:{closeButton:"farmfactory-connect-modal-close-button",connectButton:"farmfactory-connect-modal-connect-button",cancelButton:"farmfactory-connect-modal-cancel-button"},depositModal:{closeButton:"farmfactory-deposit-modal-close-button",title:"farmfactory-deposit-modal-title",depositButton:"farmfactory-deposit-modal-deposit-button",cancelButton:"farmfactory-deposit-modal-cancel-button",availableToDeposit:"farmfactory-deposit-modal-available-to-deposit",depositAmount:"farmfactory-deposit-modal-deposit-amount"},withdrawModal:{closeButton:"farmfactory-withdraw-modal-close-button",title:"farmfactory-withdraw-modal-title",withdrawButton:"farmfactory-withdraw-modal-withdraw-button",cancelButton:"farmfactory-withdraw-modal-cancel-button",availableToWithdraw:"farmfactory-withdraw-modal-available-to-withdraw",withdrawAmount:"farmfactory-deposit-modal-withdraw-amount"},harvestModal:{closeButton:"farmfactory-harvest-modal-close-button",connectButton:"farmfactory-harvest-modal-connect-button",cancelButton:"farmfactory-harvest-modal-cancel-button"}},E=function(){document.getElementById(k.infoModalRoot).innerHTML=""},L=function(t){document.getElementById(k.infoModalRoot).innerHTML=(t=t,'\n  <div class="farmfactory-overlay">\n    <div class="farmfactory-modal">\n      <button class="farmfactory-closeButton" id="'+k.infoModal.closeButton+'">\n        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none" viewBox="0 0 32 32">\n          <path stroke="currentColor" stroke-width="2" d="M9 9l7 6.99L23 9l-6.99 7L23 23l-7-6.99L9 23l6.99-7L9 9z" opacity=".9"/>\n        </svg>\n      </button>\n      <div class="farmfactory-inner">\n        <div>'+t+'</div>\n      </div>\n      <div class="farmfactory-footer">\n        <button class="farmfactory-button gray" id="'+k.infoModal.cancelButton+'">Close</button>\n      </div>\n    </div>\n  </div>\n'),document.getElementById(k.infoModal.closeButton).addEventListener("click",function(){E()}),document.getElementById(k.infoModal.cancelButton).addEventListener("click",function(){E()})},I=!1,x='<div class="farmfactory-loader"><div></div><div></div><div></div></div>',A='\n  <div class="farmfactory-overlay">\n    <div class="farmfactory-modal farmfactory-depositModal">\n      <button class="farmfactory-closeButton" id="'+k.withdrawModal.closeButton+'">\n        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none" viewBox="0 0 32 32">\n          <path stroke="currentColor" stroke-width="2" d="M9 9l7 6.99L23 9l-6.99 7L23 23l-7-6.99L9 23l6.99-7L9 9z" opacity=".9"/>\n        </svg>\n      </button>\n      <div class="farmfactory-inner">\n        <div class="farmfactory-title" id="'+k.withdrawModal.title+'">Withdraw Tokens</div>\n        <div class="farmfactory-row center">\n          <div class="farmfactory-balanceTitle">Available to Withdraw:</div>\n          <div class="farmfactory-balanceValue" id="'+k.withdrawModal.availableToWithdraw+'">\n            '+x+'\n          </div>\n        </div>\n        <input id="'+k.withdrawModal.withdrawAmount+'" type="number" />\n      </div>\n      <div class="farmfactory-footer">\n        <button class="farmfactory-button yellow" id="'+k.withdrawModal.withdrawButton+'">Withdraw</button>\n        <button class="farmfactory-button gray" id="'+k.withdrawModal.cancelButton+'">Cancel</button>\n      </div>\n    </div>\n  </div>\n',P=function(){document.getElementById(k.modalsRoot).innerHTML=""},R=function(){return d(void 0,void 0,void 0,function(){var e,n,a,o,i,r,s,u,d;return c(this,function(t){switch(t.label){case 0:return e=B.opts,n=B.contracts,d=B.account,a=B.stakingTokenName,document.getElementById(k.modalsRoot).innerHTML=A,o=document.getElementById(k.withdrawModal.title),i=document.getElementById(k.withdrawModal.availableToWithdraw),r=document.getElementById(k.withdrawModal.withdrawButton),s=document.getElementById(k.withdrawModal.cancelButton),u=document.getElementById(k.withdrawModal.closeButton),o.innerText="Withdraw "+a+"s Tokens",e.withdrawButtonTitle&&(r.innerText=e.withdrawButtonTitle),[4,n.farm.methods.balanceOf(d).call()];case 1:return d=t.sent(),i.innerText=String(Number(d)/1e18),r.addEventListener("click",m),s.addEventListener("click",P),u.addEventListener("click",P),[2]}})})},H=!1,S='<div class="farmfactory-loader"><div></div><div></div><div></div></div>',C='\n  <div class="farmfactory-overlay">\n    <div class="farmfactory-modal farmfactory-depositModal">\n      <button class="farmfactory-closeButton" id="'+k.depositModal.closeButton+'">\n        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none" viewBox="0 0 32 32">\n          <path stroke="currentColor" stroke-width="2" d="M9 9l7 6.99L23 9l-6.99 7L23 23l-7-6.99L9 23l6.99-7L9 9z" opacity=".9"/>\n        </svg>\n      </button>\n      <div class="farmfactory-inner">\n        <div class="farmfactory-title" id="'+k.depositModal.title+'">Deposit Tokens</div>\n        <div class="farmfactory-row center">\n          <div class="farmfactory-balanceTitle">Available to Deposit:</div>\n          <div class="farmfactory-balanceValue" id="'+k.depositModal.availableToDeposit+'">\n            '+S+'\n          </div>\n        </div>\n        <input id="'+k.depositModal.depositAmount+'" type="number" />\n      </div>\n      <div class="farmfactory-footer">\n        <button class="farmfactory-button yellow" id="'+k.depositModal.depositButton+'">Deposit</button>\n        <button class="farmfactory-button gray" id="'+k.depositModal.cancelButton+'">Cancel</button>\n      </div>\n    </div>\n  </div>\n',N=function(){document.getElementById(k.modalsRoot).innerHTML=""},D=function(){return d(void 0,void 0,void 0,function(){var e,n,a,o,i,r,s,u,d;return c(this,function(t){switch(t.label){case 0:return e=B.opts,n=B.contracts,d=B.account,a=B.stakingTokenName,document.getElementById(k.modalsRoot).innerHTML=C,o=document.getElementById(k.depositModal.title),i=document.getElementById(k.depositModal.availableToDeposit),r=document.getElementById(k.depositModal.depositButton),s=document.getElementById(k.depositModal.cancelButton),u=document.getElementById(k.depositModal.closeButton),o.innerText="Deposit "+a+"s Tokens",e.depositButtonTitle&&(r.innerText=e.depositButtonTitle),[4,n.staking.methods.balanceOf(d).call()];case 1:return d=t.sent(),i.innerText=String(Number(d)/1e18),r.addEventListener("click",p),s.addEventListener("click",N),u.addEventListener("click",N),[2]}})})},O=!1,W='<div class="farmfactory-loader"><div></div><div></div><div></div></div>',_='\n  <div>\n    <div class="farmfactory-widget">\n      <div class="farmfactory-farmingCard">\n        <div class="farmfactory-amount" id="'+k.farmingPage.earnedTokens+'">&mdash;</div>\n        <div class="farmfactory-title">Earned</div>\n        <div class="farmfactory-buttonContainer">\n          <button class="farmfactory-button blue disabled" id="'+k.farmingPage.harvestButton+'">Harvest</button>\n        </div>\n      </div>\n      <div class="farmfactory-farmingCard">\n        <div class="farmfactory-amount" id="'+k.farmingPage.balance+'">&mdash;</div>\n        <div class="farmfactory-title" id="'+k.farmingPage.balanceTitle+'">Token Staked</div>\n        <div class="farmfactory-buttonContainer" id="'+k.farmingPage.lpsButtons+'"></div>\n      </div>\n    </div>\n  </div>\n',F='\n  <button class="farmfactory-button yellow" id="'+k.farmingPage.approveButton+'">Approve LPS</button>\n',z='\n  <button class="farmfactory-button yellow" id="'+k.farmingPage.depositButton+'">Deposit</button><br />\n  <button class="farmfactory-button gray" id="'+k.farmingPage.withdrawButton+'">Withdraw</button>\n',j=function(t){var e,n,a=document.getElementById(k.farmingPage.lpsButtons);t?(e=B.opts,a.innerHTML=z,t=document.getElementById(k.farmingPage.depositButton),n=document.getElementById(k.farmingPage.withdrawButton),e.depositButtonTitle&&(t.innerText=e.depositButtonTitle),e.withdrawButtonTitle&&(n.innerText=e.withdrawButtonTitle),t.addEventListener("click",function(){D()}),n.addEventListener("click",function(){n.classList.contains("disabled")||R()})):(a.innerHTML=F,document.getElementById(k.farmingPage.approveButton).addEventListener("click",function(){d(void 0,void 0,void 0,function(){var e,n,a;return c(this,function(t){switch(t.label){case 0:if(u("init approve"),n=B.opts,e=B.contracts,a=B.account,O)return[2];if(!a)return[2];if(!e.staking)return L("Staking contract is not connected"),[2];t.label=1;case 1:return t.trys.push([1,3,4,5]),O=!0,document.getElementById(k.farmingPage.approveButton).innerHTML=W,n=n.farmAddress,[4,e.staking.methods.approve(n,7237005577332262e60).send({from:a})];case 2:return t.sent().status&&L("Transaction confirmed!"),y(),[3,5];case 3:return a=t.sent(),console.error(a),L(a.message),[3,5];case 4:return O=!1,document.getElementById(k.farmingPage.approveButton).innerHTML="Approve",[7];case 5:return[2]}})})}))},V=function(){var t=B.opts;document.getElementById(k.farmingRoot).innerHTML=_;var e=document.getElementById(k.farmingPage.harvestButton);t.harvestButtonTitle&&(e.innerText=t.harvestButtonTitle),e.addEventListener("click",function(){e.classList.contains("disabled")||d(void 0,void 0,void 0,function(){var e,n;return c(this,function(t){switch(t.label){case 0:if(u("init harvest"),e=B.contracts,n=B.account,O)return[2];if(!n)return[2];if(!e.farm)return L("Farm contract is not connected"),[2];t.label=1;case 1:return t.trys.push([1,3,4,5]),O=!0,document.getElementById(k.farmingPage.harvestButton).innerHTML=W,[4,e.farm.methods.getReward().send({from:n})];case 2:return t.sent().status&&L("Transaction confirmed!"),y(),[3,5];case 3:return n=t.sent(),console.error(n),L(n.message),[3,5];case 4:return O=!1,document.getElementById(k.farmingPage.harvestButton).innerHTML="Harvest",[7];case 5:return[2]}})})}),T.subscribe("deposit success",function(){y()}),T.subscribe("withdraw success",function(){y()}),T.subscribe("update page data",y)},U='\n  <div class="farmfactory-overlay">\n    <div class="farmfactory-modal">\n      <button class="farmfactory-closeButton" id="'+k.wrongNetworkModal.closeButton+'">\n        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none" viewBox="0 0 32 32">\n          <path stroke="currentColor" stroke-width="2" d="M9 9l7 6.99L23 9l-6.99 7L23 23l-7-6.99L9 23l6.99-7L9 9z" opacity=".9"/>\n        </svg>\n      </button>\n      <div class="farmfactory-inner">\n        Wrong network, connect to MAINNET\n      </div>\n    </div>\n  </div>\n',q=function(){document.getElementById(k.modalsRoot).innerHTML=""},G=function(){document.getElementById(k.modalsRoot).innerHTML=U,document.getElementById(k.wrongNetworkModal.closeButton).addEventListener("click",function(){q()})},J={},K=[{inputs:[{internalType:"address",name:"_rewardsToken",type:"address"},{internalType:"address",name:"_stakingToken",type:"address"},{internalType:"uint256",name:"_rewardsDuration",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Recovered",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"RewardAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"RewardPaid",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newDuration",type:"uint256"}],name:"RewardsDurationUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Staked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"earned",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"exit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getReward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getRewardForDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"lastTimeRewardApplicable",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"lastUpdateTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"a",type:"uint256"},{internalType:"uint256",name:"b",type:"uint256"}],name:"min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"reward",type:"uint256"}],name:"notifyRewardAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"periodFinish",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"tokenAmount",type:"uint256"}],name:"recoverERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardPerToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardPerTokenStored",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"rewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardsDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardsToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_rewardsDuration",type:"uint256"}],name:"setRewardsDuration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stakingToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userRewardPerTokenPaid",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],Q=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"string"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"mint",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"value",type:"uint256"}],name:"burn",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"from",type:"address"}],name:"getAvailableBalance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"tokensMinted",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"value",type:"uint256"}],name:"burnFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"account",type:"address"}],name:"addMinter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"renounceMinter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"account",type:"address"}],name:"isMinter",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"freezeFor",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"freezeOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"},{name:"_unfreezeTimestamp",type:"uint256"},{name:"_subsequentUnlock",type:"bool"}],name:"mintWithFreeze",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"maxSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"}],name:"MinterAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"}],X=Q,Y=!1,Z='\n  <div class="farmfactory-overlay">\n    <div class="farmfactory-modal">\n      <button class="farmfactory-closeButton" id="'+k.connectModal.closeButton+'">\n        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none" viewBox="0 0 32 32">\n          <path stroke="currentColor" stroke-width="2" d="M9 9l7 6.99L23 9l-6.99 7L23 23l-7-6.99L9 23l6.99-7L9 9z" opacity=".9"/>\n        </svg>\n      </button>\n      <div class="farmfactory-inner">\n        <img class="farmfactory-svgLogo" src="https://metamask.io/images/mm-logo.svg" alt="Metamask" />\n      </div>\n      <div class="farmfactory-footer">\n        <button class="farmfactory-button yellow" id="'+k.connectModal.connectButton+'">Connect</button>\n        <button class="farmfactory-button gray" id="'+k.connectModal.cancelButton+'">Cancel</button>\n      </div>\n    </div>\n  </div>\n',$=function(){document.getElementById(k.modalsRoot).innerHTML=""},tt=function(){document.getElementById(k.modalsRoot).innerHTML=Z,document.getElementById(k.connectModal.connectButton).addEventListener("click",function(){b()}),document.getElementById(k.connectModal.cancelButton).addEventListener("click",function(){$()}),document.getElementById(k.connectModal.closeButton).addEventListener("click",function(){$()})},et=function(){return d(void 0,void 0,void 0,function(){return c(this,function(t){return document.getElementById(k.timerRoot)&&T.subscribe("data initialized",function(){d(void 0,void 0,void 0,function(){var o,e,i;return c(this,function(t){switch(t.label){case 0:return e=B.contracts,o=document.getElementById(k.timerRoot),[4,e.farm.methods.periodFinish().call()];case 1:return e=t.sent(),0<(i=Number(e.toString()))-Date.now()/1e3?(M&&clearInterval(M),M=setInterval(function(){var t=Math.floor((1e3*i-Date.now())/1e3),e=Math.floor(t/86400);t-=86400*e;var n=Math.floor(t/3600)%24;t-=3600*n;var a=Math.floor(t/60)%60,t=(t-=60*a)%60,t=(e<10?"0"+e:e)+":"+(n<10?"0"+n:n)+":"+(a<10?"0"+a:a)+":"+(t<10?"0"+t:t);o.innerText=t},1e3)):o.innerText="00:00:00:00",[2]}})})}),[2]})})},nt="ff-account-unlocked";return{init:function(u){return d(void 0,void 0,void 0,function(){var o,i,r,s;return c(this,function(t){switch(t.label){case 0:return(o=u.networkId,i=u.farmAddress,r=u.rewardsAddress,s=u.stakingAddress,o&&i&&r&&s)?(l({opts:u}),[4,(a="https://cdnjs.cloudflare.com/ajax/libs/web3/1.3.1/web3.min.js",new Promise(function(t,e){var n=document.createElement("script");n.onload=t,n.onerror=e,n.src=a,document.head.appendChild(n)}))]):(L("Check farmFactory.init(options). Required options: networkId, farmAddress, rewardsAddress, stakingAddress."),[2]);case 1:return(t.sent(),e=document.createElement("div"),n=document.createElement("div"),e.setAttribute("id",k.modalsRoot),n.setAttribute("id",k.infoModalRoot),document.body.appendChild(e),document.body.appendChild(n),document.getElementById(k.farmingRoot))?(V(),et(),[4,d(void 0,void 0,void 0,function(){return c(this,function(t){return w("initialConnect"),window.ethereum?(w("MetaMask is installed"),window.ethereum.on("networkChanged",function(){g()}),g()):L("Please install MetaMask"),[2]})})]):(L("Template variable not found! Please use {farmfactory-farming-root}."),[2]);case 2:return t.sent(),[2]}var e,n,a})})}}}();
